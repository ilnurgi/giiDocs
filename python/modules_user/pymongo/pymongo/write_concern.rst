.. py:module:: pymongo.write_concern

write_concern - инструмент для безопасной записи
================================================

.. py:class:: WriteConcern(w=None, wtimeout=None, j=None, fsync=None)

    WriteConcern, правило записи

    * `w` - строка или число, используется с репликацией.

        Операции записи будут блокироваться пока они не будут воспроизведены на указанном сервере.

        * `3` - записать на первичный и дождаться записей на реплицируемых вторичных

        * `0` - отключает подтверждение операции записи т не может быть использован с другими WriteConcern

    * `wtimeout` - число, используется в сочетании с `w`.

        Время ожидания репликации данных, миллисекунды.

    * `j` - булево, блокировка операции, пока не будут записи в журнале.

        Не используется с `fsync`.

        Начиная с версии 2.6 операция завершится с исключением, если включено журналирование в БД.
        В других версиях флаг игнорируется если журналирование выключено.

    * `fsync` - булево, синхронизировать все файлы на жестком диске.

        Не используется с `j`.

        Если сервер работает без журналирования и флаг включен,
        то блокируется все пока сервер не синхронизирует все файлы на жестком диске.

        Если сервер работает с журналированием и флаг включен,
        то все блокируется пока не будут произведены изменения в журнале.

    .. note::

        WriteConcern неизменяемый. Изменения в документе не изменяют WriteConcern.

    .. py:attribute:: acknowledged

        Булево, ожидать подтверждения записи

    .. py:attribute:: document

        Документ, для записи