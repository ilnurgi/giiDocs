.. title:: sql update

.. meta::
    :description:
        Справочная информация по sql, оператор update.
    :keywords:
        sql update

UPDTAE
======

Оператор обновления записи

.. code-block:: text
	
	UPDATE 
        [OR <алгоритм>]
        [<название БД>.]<таблица> 
        SET <поле1> = <значение1>, <поле2>=<значение2>, ...
        [WHERE <условие>]


* `[OR <алгоритм>]` - задает способ разрешения конфликтных ситуации. Алгоритмы:

    * `ABORT` - при ошибке, аннулируются все изменения и выводится сообщение об ошибке

    * `FAIL` - при ошибке, изменения сохраняются, выполнение команды прерывается и выводится сообщение об ошибке

    * `IGNORE` - ошибка игнорируется

    * `REPLACE`

        * при нарушении условия `UNIQUE` существующая запись удаляется, а новая вставляется. сообщение об ошибке не выводится

        * при нарушении условия `NOT NULL`, значение `NULL` заменяется значением по умолчанию, а если он не задан то выполняется алгоритм `ABORT`

        * если нарушено условие `CHECK`, применяется алгоритм `IGNORE`

    * `ROLLBACK` - при ошибке, транзакция завершается с откатом всех изменений, дальнейшее выполнение прерывается и выводится сообщение об ошибке. Если активной транзакций нет, то используется алгоритм `ABORT`


.. code-block:: sql

    UPDATE table SET name='name' where id=3